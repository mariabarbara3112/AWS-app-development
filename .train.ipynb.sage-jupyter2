{"backend_state":"running","kernel":"python3","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":83927040},"trust":true,"type":"settings"}
{"id":"5e3c86","input":"session = sagemaker.Session() # Store the current SageMaker session\nprefix = 'sentiment-prediction-app'\n\nlocTest = session.upload_data(os.path.join(dir, 'test.csv'), key_prefix=prefix)\nlocV = session.upload_data(os.path.join(dir, 'validation.csv'), key_prefix=prefix)\nlocTrain = session.upload_data(os.path.join(dir, 'train.csv'), key_prefix=prefix)\n\nfrom sagemaker import get_execution_role\nrole = get_execution_role()\n\n#retrieve the location of the container (the training and inference code both use the same container)\nfrom sagemaker.amazon.amazon_estimator import get_image_uri\ncontainer = get_image_uri(session.boto_region_name, 'xgboost')\n\nrtModel = sagemaker.estimator.Estimator(container, role, train_instance_count=1, train_instance_type='ml.m4.xlarge',      \n                                    output_path='s3://{}/{}/output'.format(session.default_bucket(), prefix),\n                                    sagemaker_session=session)\n\n# initialize with parameters:\nrtModel.set_hyperparameters(max_depth=5,\n                        eta=0.2,\n                        gamma=4,\n                        min_child_weight=6,\n                        subsample=0.8,\n                        silent=0,\n                        objective='binary:logistic',\n                        early_stopping_rounds=10,\n                        num_round=500)\n\ns3_input_train = sagemaker.s3_input(s3_data=locTrain, content_type='csv')\ns3_input_validation = sagemaker.s3_input(s3_data=locV, content_type='csv')\n\nrtModel.fit({'train': s3_input_train, 'validation': s3_input_validation})","pos":0,"state":"done","type":"cell"}
{"id":0,"time":1589020582809,"type":"user"}
{"last_load":1589020158305,"type":"file"}